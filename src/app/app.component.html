<div class="app" [class.app--login]="isLoginRoute">
  <header class="header" *ngIf="!isLoginRoute && (authState$ | async) as s">
    <div class="brand">
      <div class="brand__mark">RL</div>
      <div class="brand__text">
        <div class="brand__title">RateLimiter</div>
        <div class="brand__subtitle">Control Center</div>
      </div>
    </div>

    <div class="profile">
      <button class="profile__btn" type="button" (click)="toggleMenu()">
        <span class="avatar">{{ getInitials(s) }}</span>
        <span class="caret" aria-hidden="true"></span>
      </button>

      <div class="profile__menu" *ngIf="menuOpen">
        <div class="profile__meta">
          <div class="profile__user">{{ s.username }}</div>
          <div class="profile__role">{{ s.role }}</div>
        </div>
        <button class="profile__logout" type="button" (click)="logout()">
          Logout
        </button>
      </div>
    </div>
  </header>

  <main class="page" [class.page--login]="isLoginRoute">
    <router-outlet></router-outlet>
  </main>
</div>
